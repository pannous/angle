guard let first = self.first else { return [] }  # ruby/swift control else!
set.filter { $0 < first }
those in xs that are smaller first
{x in xs: x<xs[0]}
set{it<first}

struct Message {
    struct Attachment {
        var contents: String
    }

    var title: String
    var attachment: Attachment
}

struct Message<T> {
    struct Attachment {
        var contents: String
    }

    var title: T
    var attachment: Attachment
}

struct Message<T> {
    struct Attachment<T> {
        var contents: T
    }

    var title: T
    var attachment: Attachment<T>
}
